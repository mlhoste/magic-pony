<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="fragments/header :: header" ></head>

    <script src="/scripts/children.js" />
    <body>
        <div th:replace="fragments/navigation :: navigation" ></div>

        <div class="container-fluid text-center">
            <div class="row content">
                <div class="col-sm-2 sidenav" />

                <div class="col-sm-8 text-left">
                    <h1>Listes des enfants</h1>

                    <table class="table" id="childrenTable" name="childrenTable">
                        <thead>
                            <tr>
                                <th>Prénom</th>
                                <th>Nom</th>
                                <th>Date de naissance</th>
                                <th>
                                    <a class="btn btn-success" href="#" onclick="$('#birthDateRow').show();">
                                        <span class="glyphicon glyphicon-plus" />&nbsp;Ajouter
                                    </a>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="birthDateRow" name="birthDateRow">
                                <td>
                                    <input class="form-control" type="text" id="firstNameInput" placeholder="Prénom" />
                                </td>
                                <td>
                                    <input class="form-control" type="text" id="lastNameInput" placeholder="Nom" />
                                </td>
                                <td>
                                    <input class="form-control" type="text" id="birthDateInput" placeholder="JJ/MM/AAA" />
                                </td>
                                <td>
                                    <a class="btn btn-success" href="#">
                                        <span class="glyphicon glyphicon-save" />
                                    </a>
                                    <a class="btn btn-warning" href="#" onclick="$('#birthDateRow').hide();">
                                     <span class="glyphicon glyphicon-remove" />
                                    </a>
                                </td>
                            </tr>
                            <tr th:each="child : ${childrenList}">
                                <td th:text="${child.firstName}" />
                                <td th:text="${child.lastName}" />
                                <td th:text="${#dates.format(child.birthDate, 'dd-MMM-yyyy')}"></td>
                                <td>
                                    <a class="btn btn-default" th:href="@{/enfant/} + ${child.id}">
                                        <span class="glyphicon glyphicon-zoom-in" />
                                    </a>
                                    <a class="btn btn-default" th:href="@{/enfant/edit/} + ${child.id}">
                                        <span class="glyphicon glyphicon-edit" />
                                    </a>
                                    <a href="#" class="btn btn-default confirm-delete" th:attr="data-id=${child.id}" >
                                        <span class="glyphicon glyphicon-trash" />
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <div th:replace="fragments/deleteModal :: deleteModal" />

                </div>
                <div class="col-sm-2 sidenav" />
            </div>
        </div>

        <footer th:replace="fragments/footer :: footer" />
    </body>
</html>